# Docker Compose Development Override
# Usage: docker-compose -f docker-compose.yml -f docker-compose.dev.yml up
version: '3.8'

services:
  cloud-platform:
    build:
      context: .
      dockerfile: Dockerfile.dev
      target: development
    volumes:
      # Mount source code for live reloading
      - ./public:/usr/share/nginx/html:ro
      - ./nginx.conf:/etc/nginx/conf.d/default.conf:ro
    environment:
      - NODE_ENV=development
      - DEBUG=true
    # Override restart policy for development
    restart: "no"
    # Add development-specific labels
    labels:
      - "com.docker.compose.project=dashboard-dev"
      - "environment=development"
    # Enable stdin and tty for interactive debugging
    stdin_open: true
    tty: true
